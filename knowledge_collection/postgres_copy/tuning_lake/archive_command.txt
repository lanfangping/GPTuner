For successful WAL archiving in Postgres, set the 'archive_command' as a local shell command in the postgresql.conf file or on the server command line. This command is used to archive a completed WAL file segment. It should include a string that replaces '%p' with the current WAL file path and '%f' with the file name, for example, 'archive_command = 'cp %p /mnt/server/archivedir/%f''. The command should return a zero exit status only if successful. Please note that this setting is ignored unless the archive_mode was enabled at the server start.