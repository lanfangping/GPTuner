To set the `max_connections` knob in PostgreSQL, a common rule is to allocate **100 connections as a baseline** for the system and **add 5–20 connections per CPU core** (e.g., 200–500 connections for a 16-core server), while ensuring **RAM is sufficient** (e.g., `work_mem` × `max_connections` should not exceed 75% of total memory). Adjust based on workload (OLTP may need more, OLAP fewer).