To set `max_wal_size` in PostgreSQL, a common guideline is to allocate **1/16th of shared_buffers** (e.g., 1GB if shared_buffers is 16GB) or **2–4 times the checkpoint_segments default size (16MB × N)**, with a typical range of **1GB to 4GB** for most workloads, adjusting higher (e.g., 8GB+) for write-heavy systems to reduce checkpoint frequency. Always ensure it’s at least **twice the size of the largest expected transaction** to avoid premature checkpoints.