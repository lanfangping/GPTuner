The max_locks_per_transaction parameter limits the number of distinct objects that can be locked at any one time to max_locks_per_transaction * (max_connections + max_prepared_transactions), with a default value of 64 that may need to be increased for transactions involving many different tables.