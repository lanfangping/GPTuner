To set `wal_keep_segments` in PostgreSQL, allocate enough WAL segments to cover typical replication lag (e.g., **16–64 segments**, where each segment is 16MB by default, totaling **256MB–1GB**), adjusting higher for high-write systems or unreliable networks (e.g., **128+ segments or ~2GB+**). Monitor replication delays and increase if standby servers fall behind.  

*(Note: In PostgreSQL 13+, consider `wal_keep_size` (e.g., `wal_keep_size = '1GB'`) as a more intuitive replacement.)*